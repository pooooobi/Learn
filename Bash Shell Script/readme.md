# Bash Shell Script

1. 유용한 Bash 커맨드 라인 단축키
    - `Tab` : 명령 자동완성
    - `Ctrl + c` : Interrapt Signal을 보내 실행중인 프로세스를 중단시킴
    - `Ctrl + a` : 라인 맨 앞으로 커서 이동
    - `Ctrl + e` : 라인 맨 뒤로 커서 이동
    - `Ctrl + r` : History 검색

2. 기초 명령어
- 파일 시스템
    - cd : Change Directory
        - cd - : 이전 디렉토리로 이동함.
    - ls : LiSt
        - `ls -arlth`를 기본으로 사용하는게 맘 편하다.
    - df : Disk Free
        - df -h를 주로 사용한다.
        - [Inodes](/Operation%20System/inode/readme.md)를 확인하려면 -i 옵션을 사용

- 디렉토리와 파일 통계
    - mkdir : MaKe DIRectory
    - rmdir : ReMove DIRectory
    - pwd : Print Working Directory
    - mount/umount
        - 디스크 장치를 표시하거나 가상 파일 시스템으로 지정한 디렉토리를 연결함
        - 가상 파일 시스템으로 지정할 때 주로 사용한다.
            - mount -t [FileSystemType] [IP Address]:[ROUTE] [Local Directory]
            - ex) mount -t nfs IP:/nfs /mnt -> IP주소의 nfs 폴더를 mnt 폴더로 마운트함
            - 접속을 끊을때는 `umount [경로]` 사용
    - stat
        - 지정한 파일의 파일 통계 출력
        - stat [FILE_NAME] 으로 사용한다.

- 파일 관련 명령어
    - touch
        - 지정한 이름의 비어있는 파일을 생성하거나 파일이 있는 경우 타임스탬프를 업데이트 한다.
    - cat : catenate
        - 지정한 파일의 내용을 출력한다.
    - head/tail
        - 지정한 파일의 1라인부터 지정한 라인까지 출력(default: 10)한다. -> head
        - 지정한 파일의 마지막 라인부터 지정한 라인까지 출력(default: 10)한다. -> tail
    - cp : CoPy
        - 지정한 파일을 지정한 위치와 이름으로 복사한다.
        - `cp -rfp [Original File Path]/[Name] [Copyed File Path]/[Name]`으로 사용하는 것이 편함.
    - mv : MoVe
        - 지정한 파일을 지정한 위치와 이름으로 이동한다.
    - rename
        - 지정한 규칙에 따라 여러 개의 파일 이름을 변경한다.
    - rm : ReMove
        - `rm -rf`로 사용하는 것이 편함.
    - less
        - 상하로 커서 이동이 가능한 파일보기
        - `cat` 보다는 긴 파일을 보기 유용하다.
    - ln : LiNk
        - 지정 파일에 대한 하드 링크 혹은 심볼릭 링크를 생성한다.
        - 옵션이 없으면 `하드 링크`를 생성하고, s 옵션을 추가하면 `심볼릭 링크`(윈도우의 바로가기)를 생성한다.
        - `s` 옵션을 추가한 `ln -s`를 주로 사용한다.
    - paste
        - 지정한 파일들의 행을 읽어 탭으로 구분하여 병합한다.
    - dd : Dataset Definition
        - 블록 단위로 데이터셋을 정의하며 파일을 쓰고 읽는다.
        - 실무에서는 랜덤 파일 생성, 디스크 성능 측정 용도로 자주 사용한다.
        - `dd if={input file name} of={output file name} bs={Byte(크기)} count={블럭을 복사할 횟수}`의 형식으로 사용한다.
            - bs를 구성하면 ibs, obs의 값도 자동으로 정해주기 때문에 별도로 지정하진 않아도 된다.
    - tar : Type ARchive
        - 지정한 데이터 및 디렉토리를 하나의 파일로 만든다 -> 압축한다.
        - 파일을 묶을 때에는 `tar -cvzf 타르볼 파일명 디렉토리/파일명`
        - 파일을 풀때에는 `tar -xvzf 타르볼 파일명`
        - `.tgz` 파일 확인시에는 `tar -tf 파일명`

- 프로세스 관련 명령어
    - ps : Process Status
        - 시스템에서 실행중인 프로세스에 대한 정보를 출력한다.
        - `ps -ef`는 UID, PID, PPID 등의 정보를 출력한다.
        - `ps aux`는 위의 정보를 포함하여 CPU, MEMORY(가상 포함) 등의 정보도 출력된다.
        - CMD의 줄이 잘려있는데 더 길게 보고싶다면 `ps axfwwwww` 로 확인. w의 개수에 따라 명령어의 출력 라인수가 늘어남. 요즘 엔지니어는 잘 쓰지 않는 방법... (트리도 나옴)
    - pstree : Process Status TREE
        - 시스템에서 실행중인 프로세스에 대한 정보를 트리 구조로 출력한다.
    - top
        - 프로세스 목록을 일정 시간마다 새로고침하여 화면에 출력하는 툴
        - 시스템 전반적인 상황을 알 수 있다.
        - 맥에서는 사용법이 다르다.
            - o를 누르면 갱신 주기마다 높은 값 지정할 수 있다.
        - CPU
            - us : 유저가 사용한 시간
            - sy : 시스템이 사용한 시간
            - ni : nice 값에 따라 우선순위가 변경된 프로세스가 실행한 시간
            - id : Idle time, 유휴 시간
            - wa : Wait, I/O 장치를 기다리는데 소요된 시간
            - hi : Hardware Interrupt
            - si : Software Interrupt
            - st : Still time, 가상화된 프로세스를 처리하는데 비 자발적으로 기다린 시간
    - nohup : NO HangUPs
        - 쉘 스크립트 파일을 데몬 형태로 실행한다.
        - 표준 출력을 지정한 파일로 리다이렉트
        - 프로그램이 종료되기 전까지 백그라운드로 실행하는 명령어다.
    - kill
        - 지정한 프로세스에 지정한 시그널(SIG)을 보내 프로세스를 종료시킨다.
        - Sofrware Interrupt에 속한다.
        - 좀비 프로세스를 종료할 수 있는 유일한 방법이다.
        - `INT(2)`, `TERM(15)`, `KILL(-9)` 정도의 종료 시그널을 알면 좋다.
            - `KILL -SIG(혹은 번호) PID`로 사용한다.
            - ex) KILL -INT PID

- 네트워크 관련 명령어